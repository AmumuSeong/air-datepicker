<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Old Air datepicker</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script type="text/javascript" src="./datepicker.js"></script>
        <link rel='stylesheet' href='./styles.css'/>
        <style type='text/css'>
            input[type='text'] {
                width: 500px;
                height: 32px;
            }

        </style>
    </head>
    <body>
        <input type="text" id="dp"/>
        <button id='update'>Update</button>

        <script type="text/javascript">
            let dp = $('#dp').datepicker({
                range: false,
                inline: true,
                timepicker: true,
                minDate: new Date('2021-06-25'),
                // maxDate: new Date(2020, 9, 20, 10, 30),
                // multipleDates: true,
                onRenderCell: function(date, type){
                    console.log(type);
                    if (date.getDate() === new Date().getDate()) {
                        return {
                            disabled: true
                        }
                    }
                },
                onSelect: function(fd, d) {
                    console.log(d);
                },
                onChangeMonth(month){
                    console.log(month);
                },
                onChangeView(view) {
                    console.log(view);
                },
                toggleSelected: false,
            }).data('datepicker');


            window.dp = dp;

            // dp.selectDate(new Date());
            dp.selectDate(new Date('2021-06-30'));

            $('#update').on('click', () => {
                dp.update({
                    minDate: new Date(),
                    maxDate: new Date('2021-06-27'),
                    range: !dp.opts.range,
                    timepicker: false
                })
            })

        </script>
    </body>
</html>
